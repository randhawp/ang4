<app-main></app-main>
<div class="container-fluid text-center">    
  <div class="row content">
    
  <app-menu></app-menu>
   <div class="col-sm-8 text-left"> 
     <mat-card>
      <h1>New  Receipt</h1>
      <form (ngSubmit)="onSubmit()" (onReset)="resetForm()" #f="ngForm">
          <div
            id="receipt-data"
            ngModelGroup="receiptFormData"
            #receiptFormData="ngModelGroup">
            
            <div class="form-group">
              <label for="rcvdfrom">Received From</label>
              <input type="text"  id="rcvdfrom"  pattern="[A-Za-z0-9 #-_$%@{}()\[\],.?!]*"   #name="ngModel" (keyup)="clearMessage()"  ngModel  name="rcvdfrom"  required>
              <div>
                <div   *ngIf="name.errors?.pattern">
                 <p class="alert alert-danger">
                   Special characters like double quotes not allowed
                 </p>
             
                </div>
              </div>
            </div>
           
            <div class="form-group">
              <label for="forreason">For</label>
              <input type="text" id="forreason"  pattern="[A-Za-z0-9 #-_$%@{}()\[\],.?!]*"  #forreason="ngModel"  class="form-control" ngModel name="forreason"  required>
              <div>
                <div   *ngIf="forreason.errors?.pattern">
                 <p class="alert alert-danger">
                   Special characters like double quotes not allowed
                 </p>
             
                </div>
              </div>
            </div>
            <span>
              <div class="form-group">
                  <label for="amount">Amount</label>
                  <input type="number" id="amount"  class="form-control" ngModel name="amount" pattern="\d+(\.\d{2})?"  required>
                  
              </div>  
              <div class="form-group">
                
                  <label for="usd">USD</label>
                  <input type="checkbox" name="usd" ngModel value=false >
              </div>
            </span>
            <div class="form-group">
                <label for="invoice">Invoice</label>
                <input type="text" id="invoice" #invoice="ngModel" pattern="[A-Za-z0-9 #-_$%@{}()\[\],.?!]*" class="form-control" ngModel name="invoice" required>
                <div>
                  <div   *ngIf="invoice.errors?.pattern">
                   <p class="alert alert-danger">
                     Special characters like double quotes not allowed
                   </p>
               
                  </div>
                </div>
            </div> 
            
            <div class="form-group">
              <label for="remarks">Remarks</label>
              <textarea name="remarks" rows="3" #remarks="ngModel" pattern="[A-Za-z0-9 #-_$%@{}()\[\],.?!]*"  cols="40" class="form-control" ngModel ></textarea>
              <div>
                <div   *ngIf="remarks.errors?.pattern">
                 <p class="alert alert-danger">
                   Special characters like double quotes not allowed
                 </p>
             
                </div>
              </div>
            </div>
            <div class="form-group">
                <mat-radio-group class="paytype-radio-group" [(ngModel)]="paytypecontrol" name="paytype" >
                    <mat-radio-button class="paytype-radio-button" *ngFor="let p of paytypes" name="p.value"  [value]="p.value" >
                      {{p.viewValue}}
                    </mat-radio-button>
                  </mat-radio-group>
            </div>
           
            <button   class="btn btn-primary"  type="submit"  [disabled]="!f.valid">Submit</button>
            </div>
        </form>

        <div class="col-sm-8 col-sm-offset-2">
          <div class="alert alert-danger" *ngIf="returnval == 1">{{message}}</div>
          <div class="alert alert-success"  *ngIf="returnval == 2">{{message}}</div>  
         
        </div>
      </mat-card>
          
    </div>
          
          



    
    <div class="col-sm-2 sidenav">
      <div class="well">
        <p><B>Last Receipt</B></p>
        <p>    Amount: {{lastReceiptAmount}}     
        </p>
        <p>
          PayType: {{lastPayType}}
        </p>
        <p>
          From: {{lastRcvdFrom}}
        </p>
      </div>
      <div class="well">
        <p><B>Session Count</B><p>
          <p> Receipts entered :{{receiptCount}}</p>
      </div>
    </div>
  </div>
</div>